{"ast":null,"code":"var _jsxFileName = \"/Users/jayachandran/Downloads/newofile/frontend-1/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport './App.css';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\nfunction App() {\n  _s();\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState({\n    isConnected: false,\n    lastChecked: null\n  });\n\n  // Create api instance using useMemo to ensure stable reference\n  const api = useMemo(() => axios.create({\n    baseURL: API_URL,\n    timeout: 10000\n  }), []);\n  const testConnection = useCallback(async () => {\n    try {\n      await api.get('/health');\n      setConnectionStatus({\n        isConnected: true,\n        lastChecked: new Date().toLocaleString()\n      });\n      setMessage('Server connected');\n    } catch (error) {\n      console.error('Connection Error:', error);\n      setConnectionStatus({\n        isConnected: false,\n        lastChecked: new Date().toLocaleString()\n      });\n      setMessage(`Connection failed: ${error.message}`);\n    }\n  }, [api]); // Add api to dependency array\n\n  const fetchUsers = useCallback(async () => {\n    try {\n      const response = await api.get('/users');\n      setUsers(response.data.data || []);\n    } catch (error) {\n      setMessage(`Fetch error: ${error.message}`);\n    }\n  }, [api]); // Add api to dependency array\n\n  const addUser = async e => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      await api.post('/users', {\n        name,\n        email\n      });\n      setName('');\n      setEmail('');\n      await fetchUsers();\n      setMessage('User added');\n    } catch (error) {\n      setMessage(`Add user error: ${error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  const deleteUser = async userId => {\n    try {\n      setIsLoading(true);\n      await api.delete(`/users/${userId}`);\n      await fetchUsers();\n      setMessage('User deleted');\n    } catch (error) {\n      setMessage(`Delete error: ${error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n  useEffect(() => {\n    testConnection();\n    fetchUsers();\n  }, [testConnection, fetchUsers]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"container\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"User Management App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `connection-status ${connectionStatus.isConnected ? 'connected' : 'disconnected'}`,\n      children: [\"Status: \", connectionStatus.isConnected ? 'Connected' : 'Disconnected', /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: testConnection,\n        children: \"Recheck\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), message && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"message\",\n      children: message\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 19\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: addUser,\n      children: [/*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"text\",\n        placeholder: \"Name\",\n        value: name,\n        onChange: e => setName(e.target.value),\n        required: true,\n        disabled: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"email\",\n        placeholder: \"Email\",\n        value: email,\n        onChange: e => setEmail(e.target.value),\n        required: true,\n        disabled: isLoading\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"submit\",\n        disabled: isLoading,\n        children: isLoading ? 'Processing...' : 'Add User'\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 114,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"users-list\",\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Users (\", users.length, \")\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), users.map(user => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [user.name, \" - \", user.email, /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: () => deleteUser(user._id),\n          disabled: isLoading,\n          children: \"Delete\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 13\n        }, this)]\n      }, user._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 11\n      }, this))]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 87,\n    columnNumber: 5\n  }, this);\n}\n_s(App, \"91om82PI3yX0MOP3JLX1FEhltiY=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["React","useState","useEffect","useCallback","useMemo","axios","jsxDEV","_jsxDEV","API_URL","process","env","REACT_APP_API_URL","App","_s","name","setName","email","setEmail","message","setMessage","users","setUsers","isLoading","setIsLoading","connectionStatus","setConnectionStatus","isConnected","lastChecked","api","create","baseURL","timeout","testConnection","get","Date","toLocaleString","error","console","fetchUsers","response","data","addUser","e","preventDefault","post","deleteUser","userId","delete","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onClick","onSubmit","type","placeholder","value","onChange","target","required","disabled","length","map","user","_id","_c","$RefreshReg$"],"sources":["/Users/jayachandran/Downloads/newofile/frontend-1/src/App.js"],"sourcesContent":["\nimport React, { useState, useEffect, useCallback, useMemo } from 'react';\nimport axios from 'axios';\nimport './App.css';\n\nconst API_URL = process.env.REACT_APP_API_URL || 'http://localhost:5000/api';\n\nfunction App() {\n  const [name, setName] = useState('');\n  const [email, setEmail] = useState('');\n  const [message, setMessage] = useState('');\n  const [users, setUsers] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const [connectionStatus, setConnectionStatus] = useState({\n    isConnected: false,\n    lastChecked: null\n  });\n\n  // Create api instance using useMemo to ensure stable reference\n  const api = useMemo(() => axios.create({\n    baseURL: API_URL,\n    timeout: 10000\n  }), []);\n\n  const testConnection = useCallback(async () => {\n    try {\n      await api.get('/health');\n      setConnectionStatus({\n        isConnected: true,\n        lastChecked: new Date().toLocaleString()\n      });\n      setMessage('Server connected');\n    } catch (error) {\n      console.error('Connection Error:', error);\n      setConnectionStatus({\n        isConnected: false,\n        lastChecked: new Date().toLocaleString()\n      });\n      setMessage(`Connection failed: ${error.message}`);\n    }\n  }, [api]); // Add api to dependency array\n\n  const fetchUsers = useCallback(async () => {\n    try {\n      const response = await api.get('/users');\n      setUsers(response.data.data || []);\n    } catch (error) {\n      setMessage(`Fetch error: ${error.message}`);\n    }\n  }, [api]); // Add api to dependency array\n\n  const addUser = async (e) => {\n    e.preventDefault();\n    try {\n      setIsLoading(true);\n      await api.post('/users', { name, email });\n      setName('');\n      setEmail('');\n      await fetchUsers();\n      setMessage('User added');\n    } catch (error) {\n      setMessage(`Add user error: ${error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  const deleteUser = async (userId) => {\n    try {\n      setIsLoading(true);\n      await api.delete(`/users/${userId}`);\n      await fetchUsers();\n      setMessage('User deleted');\n    } catch (error) {\n      setMessage(`Delete error: ${error.message}`);\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  useEffect(() => {\n    testConnection();\n    fetchUsers();\n  }, [testConnection, fetchUsers]);\n\n  return (\n    <div className=\"container\">\n      <h1>User Management App</h1>\n      \n      <div className={`connection-status ${connectionStatus.isConnected ? 'connected' : 'disconnected'}`}>\n        Status: {connectionStatus.isConnected ? 'Connected' : 'Disconnected'}\n        <button onClick={testConnection}>Recheck</button>\n      </div>\n\n      {message && <div className=\"message\">{message}</div>}\n\n      <form onSubmit={addUser}>\n        <input\n          type=\"text\"\n          placeholder=\"Name\"\n          value={name}\n          onChange={(e) => setName(e.target.value)}\n          required\n          disabled={isLoading}\n        />\n        <input\n          type=\"email\"\n          placeholder=\"Email\"\n          value={email}\n          onChange={(e) => setEmail(e.target.value)}\n          required\n          disabled={isLoading}\n        />\n        <button type=\"submit\" disabled={isLoading}>\n          {isLoading ? 'Processing...' : 'Add User'}\n        </button>\n      </form>\n\n      <div className=\"users-list\">\n        <h2>Users ({users.length})</h2>\n        {users.map(user => (\n          <div key={user._id}>\n            {user.name} - {user.email}\n            <button \n              onClick={() => deleteUser(user._id)}\n              disabled={isLoading}\n            >\n              Delete\n            </button>\n          </div>\n        ))}\n      </div>\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}